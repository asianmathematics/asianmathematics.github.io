<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Turn-Based Combat Game</title>
    <link rel="stylesheet" href="combat.css">
</head>
<body>
    <h1>Turn-Based Combat Game</h1>
    <a href="./tutorial.html">Squad Combat Tutorial</a>
    
    <div id="game-controls">
        <button class="action-button" id="combatStart">Start Combat</button>
    </div>
    
    <div id="unit-selection-panel" style="display:none;">
        <h3>Select Your Team (max 4 units)</h3>
        <div id="unit-roster" class="unit-roster">
        </div>
        <div id="selected-units" class="selected-units">
            <h4>Selected Units (0/4)</h4>
        </div>
        <button id="start-with-selected" class="action-button">Start Combat</button>
    </div>
    
    <div class="game-layout">
        <div class="left-column">
            <div id="selection">
            </div>
            
            <div id="message-container" class="message-container">
            </div>
            
            <div id="action-log-container">
                <h3>Combat Log</h3>
                <div id="action-log"></div>
            </div>
        </div>
        
        <div class="right-column">
            <div id="battle-container">
            </div>
        </div>
    </div>

    <p style="color:white">Hover over (or hold on mobile) action buttons to see description</p>

    <script type="module">
        document.addEventListener('DOMContentLoaded', function() {
            import('./combat.js').then(module => {
                window.startCombat = module.startCombat;
                const startButton = document.getElementById('combatStart');
                if (startButton) { startButton.addEventListener('click', function() { window.startCombat() }) }
            });
        });
    </script>
</body>
</html>