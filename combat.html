<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Turn-Based Combat Game</title>
    <link rel="stylesheet" href="combat.css">
    <style></style>
</head>
<body>
    <h1 style="font-size:84px;text-align:center;margin:6px">Turn-Based Combat Game</h1>
    
    <div id="game-controls">
        <button class="action-button" id="combatStart">Start Combat</button>
    </div>
    
    <div id="unit-selection-panel" style="display:none;">
        <h3>Select Your Team (max 6 units, 4 recommended)</h3>
        <p>Enemy waves will be randomized and balanced based on party strength. There will be 3 waves of enemies.</p>
        <div id="unit-roster" class="unit-roster">
        </div>
        <div id="selected-units" class="selected-units">
            <h4>Selected Units (0/6)</h4>
        </div>
        <button id="start-with-selected" class="action-button">Start Combat</button>
    </div>
    
    <div class="game-layout">
        <div class="right-column">
            <div id="battle-container">
                <div class='modifiers-container'>
                    <h3>Active Modifiers</h3>
                </div>
                <div class='battle-display'>
                    <div class='team player-team'>
                        <h2 class="team-header">Player Team</h2>
                        <div class="unit-row"></div>
                    </div>
                    <div class='team enemy-team'>
                        <h2 class="team-header">Enemy Team</h2>
                        <div class="unit-row"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="left-column">
            <div id="selection">
            </div>
            
            <div id="message-container" class="message-container">
            </div>
            
            <div id="action-log-container">
                <h3>Combat Log</h3>
                <div id="action-log"></div>
            </div>
        </div>
    </div>

    <div class="info-display"></div>
    
    <a href="./tutorial.html">Squad Combat Tutorial</a>
    <p style="color:white">Hover over (or hold on mobile) action buttons to see description</p>

    <script type="module">
        document.addEventListener('DOMContentLoaded', function() {
            import('./combat.js').then(module => {
                window.startCombat = module.startCombat;
                const startButton = document.getElementById('combatStart');
                if (startButton) { startButton.addEventListener('click', function() { window.startCombat() }) }
            });
        });
    </script>
</body>
</html>