.battle-display,.game-layout,.left-column{gap:15px;display:flex}
#battle-container,#selection{background-color:#0a0a0a;box-shadow:0 0 15px rgba(0,255,136,0.2);padding:20px;border:1px solid #00ff88}
body{font-family:'Courier Prime',monospace;font-size:18px;max-width:1200px;margin:0 auto;padding:20px;background:#0a0a0a;color:#00ff88;position:relative}
body::after{content:"";position:fixed;top:0;left:0;width:100%;height:100%;background:repeating-linear-gradient(0deg,rgba(0,0,0,0.15) 0px,rgba(0,0,0,0.15) 1px,transparent 1px,transparent 2px);pointer-events:none;opacity:0.1}
.h1,h2,h3{color:#00ff88;font-family:'Courier Prime',monospace;text-shadow:0 0 8px rgba(0,255,136,0.3);border-bottom:2px solid #ff0055}
.game-layout{flex-direction:row;margin-top:20px}
.left-column{flex:2;max-width:350px;flex-direction:column}
.right-column{flex:1}
#battle-container{border-radius:0;margin-bottom:20px;border:1px solid #00aaff}
.battle-display{justify-content:space-between}
.team{flex:1;padding:15px;border-radius:0;background:#111}
.player-team{border:2px solid #00aaff}
.enemy-team{border:2px solid #ff0055}
.modifier-list li,.unit{background:linear-gradient(15deg,#0a0a0a,#1a1a1a)}
.unit{border:1px solid #00ff88;border-radius:0;padding:10px;margin-bottom:10px;color:#e0e0e0;box-shadow:inset 0 0 12px rgba(0,255,136,0.1)}
.unit.defeated{opacity:.5;background-color:#000}
.unit-name{font-weight:700;font-size:.9em;margin-bottom:5px;color:#00ff88}
.unit.back{border-left:4px solid #ff0055;background-color:#1a0a14}
.unit.back .unit-name{color:#ff0055}
.unit-roster, .selected-units{display:flex;flex-wrap:wrap;gap:10px;margin:15px 0}
.unit-card{width:240px;padding:10px;border:1px solid #00ff88;cursor:pointer; transition:all 0.2s}
.unit-card:hover{background-color: #002233}
.unit-card.selected{border-color:#ff0055;box-shadow:0 0 10px rgba(255, 0, 85, 0.5)}
.selected-units .unit-card{width:100px;opacity:0.9}
.position-indicator{font-size:.6em;color:#ff0055;font-style:italic;margin-bottom:5px}
.action-button,button#back{color:#fff;padding:10px 15px;cursor:pointer;font-family:'Courier Prime',monospace}
#selection{border-radius:0;color:#00ff88;border:1px solid #00aaff}
.action-button{background:#1a1a1a;border:2px solid #00aaff;margin:5px;border-radius:0;font-size:18px;position:relative;letter-spacing:1px;text-transform:uppercase}
.action-button:hover{background:#002233;text-shadow:0 0 8px #00aaff}
.action-button.disabled{background-color:#333;cursor:not-allowed}
form#targetSelection{margin-bottom:15px}
form#targetSelection div{margin:10px 0}
button#submit {border:1px solid #55ff00;border-radius:0;color:#fff;background-color:#0a0a0a;padding:10px 15px;cursor:pointer;font-family:'Courier Prime', monospace;}
button#back{border:1px solid #ff0055;border-radius:0;background-color:#0a0a0a;padding:10px 15px;cursor:pointer;font-family:'Courier Prime', monospace;}
.message-container{position:relative;z-index:100;max-width:100%}
.message{margin-bottom:10px;padding:12px 16px;border-radius:0;box-shadow:0 2px 4px rgba(0,0,0,.4);animation:.3s ease-out fadeIn;border:1px solid}
.info-message{background-color:#1a365d;color:#00aaff;border-color:#00aaff}
.success-message{background-color:#1b5e20;color:#00ff88;border-color:#00ff88}
.error-message{background-color:#5d1a1a;color:#ff0055;border-color:#ff0055}
.warning-message{background-color:#332100;color:#ffd740;border-color:#ffd740}
.stat-row{margin-bottom:6px}
.stat-label{display:flex;justify-content:space-between;font-size:.7em;margin-bottom:2px;color:#00aaff}
.stat-bar-container{width:100%;height:7px;background-color:#252525;border-radius:0;overflow:hidden}
.stat-bar{height:100%;border-radius:0;transition:width .3s ease-in-out}
.hp-bar,.player-team .hp-bar{background-color:#ff0055}
.stamina-bar{background-color:#00ff88}
.mana-bar{background-color:#00aaff}
.energy-bar{background-color:#ffd740}
.timer-bar{background-color:#9c27b0}
.enemy-team .hp-bar{background-color:#ff0055}
.unit.defeated .stat-bar{background-color:#333}
.modifiers-container{background-color:#1a1a1a;border-radius:0;box-shadow:0 0 15px rgba(0,255,136,0.3);padding:0px 10px;margin-bottom:20px;color:#00ff88;border:1px solid #00ff88;max-height:200px;overflow-y:auto;position:relative;}
.modifiers-content{padding:0px;min-width:100%;box-sizing:border-box;}
.modifiers-container h3{position:sticky;top:0;background-color:#1a1a1a;padding:10px 0px;margin:0 0 10px 0;z-index:1;border-bottom:2px solid #ff0055;min-width:100%;}
.modifier-list{list-style:none;padding:0;min-width:100%;}
.modifier-list li{margin-bottom:5px;padding:5px;border-radius:0;border-left:3px solid #ff0055}
.modifier-target{font-weight:700;color:#00aaff}
.modifier-icon {width:18px;height:18px;margin-right:6px;vertical-align:middle;filter:drop-shadow(0 0 4px #00ff88);}
.modifier-caster{color:#00ff88;font-size:0.9em;display:block;margin-bottom:3px;}
.modifier-name{color:#fff;font-weight:bold;cursor:help;position:relative;display:inline-block;}
.modifier-name:hover::after{content:attr(data-tooltip);position:absolute;bottom:100%;left:50%;transform:translateX(-50%);background-color:#0a0a0a;color:#00ff88;padding:8px 12px;border-radius:0;white-space:pre-line;z-index:1000;width:max-content;max-width:300px;box-shadow:0 0 15px rgba(0,255,136,0.3);font-family:'Courier Prime',monospace;font-size:14px;border:1px solid #00ff88}
.modifier-targets, .modifier-duration{font-size:0.85em;color:#bdbdbd;margin-top:3px;}
.modifier-targets{position:relative;display:inline-block;}
.modifier-targets.truncated:hover::after{content:attr(data-full-targets);position:absolute;bottom:100%;left:0;background-color:#0a0a0a;color:#00ff88;padding:8px 12px;border-radius:0;white-space:pre-line;z-index:1000;width:max-content;max-width:300px;box-shadow:0 0 15px rgba(0,255,136,0.3);border:1px solid #00ff88;font-family:'Courier Prime', monospace;font-size:14px;line-height:1.4;}
.modifier-duration{color:#ff0055;}
li.modifier-item{display:flex;align-items:center;gap:0.5em;flex-wrap:nowrap;}
li.modifier-item > *{display:inline-block;}
#action-log-container{width:100%}
#action-log{background-color:#000;color:#00ff88;font-family:'Courier Prime',monospace;border:1px solid #00ff88;padding:10px;height:150px;overflow-y:auto;font-size:14px;line-height:1.4;border-radius:0;width:100%}
.log-entry{margin-bottom:4px;padding:2px 5px;border-radius:0;word-wrap:break-word}
.turn-entry{background-color:#002233;color:#00aaff;padding:5px;margin-top:5px;border-left:3px solid #00aaff}
.action-entry{color:#00ff88}
.hit-entry{color:#00ff88;font-family:'Courier Prime',monospace;text-shadow:0 0 8px rgba(0,255,136,0.3);}
.miss-entry{color:#666;font-style:italic}
.crit-entry{color:#ffd740;font-weight:700}
.buff-entry{color:#00ff88}
.debuff-entry{color:#ff0055}
.warning-entry{color:#ffd740}
.error-entry{background-color:white;color:darkred;}
.info-entry{color:#00aaff}
.info-display{display:flex;flex-direction:row;background-color:#0a0a0a;box-shadow:0 0 15px rgba(0, 255, 136, 0.2);padding:20px;border:1px solid #00ff88;color:#00ff88;max-height:400px;overflow-y:auto;}
.info-display h4{color:#00aaff;border-bottom:1px solid #00aaff;padding-bottom:5px;margin-top:15px;margin-bottom:5px;}
.stat-line{display:flex;justify-content:space-between;padding:2px 0;font-size:18px;}
.action-info-box{margin-bottom:15px;border-left:3px solid #002233;padding-left:10px;}
.action-name{font-weight:bold;color:#ffd740;margin-bottom:5px;}
.action-info-box p{margin:3px 0;white-space:pre-wrap;}
.team{max-height:1000px;overflow-y:auto;padding:15px;border-radius:0;background:#111;}
.unit.defeated{opacity:0.5;background-color:#000;border-color:#666 !important;}
.unit.defeated .unit-name{color:#666 !important;text-decoration:line-through;}
.turn-indicator{position:absolute;top:5px;right:5px;color:#ffd740;font-size:12px;animation:pulse 1s infinite;text-shadow:0 0 5px rgba(255, 215, 64, 0.7);}
.unit{position:relative;}
.current-turn{box-shadow:0 0 10px rgba(255, 215, 64, 0.5);border-color:#ffd740 !important;}
.enemy-team .stat-label{justify-content:right !important;text-align:right;}
.enemy-team .stat-label span{width:100%;text-align:right;}
.modifier-list{list-style:none;padding:0;margin:0;}
.modifier-list li{margin-bottom:5px;padding:5px;border-radius:0;border-left:3px solid #ff0055;background:linear-gradient(15deg, #0a0a0a, #1a1a1a);}
.modifier-item{display:flex;align-items:center;gap:0.5em;flex-wrap:nowrap;word-wrap:break-word;overflow-wrap:break-word;}
.modifier-item > *{display:inline-block;flex-shrink:0;}
.modifier-item.cancelled{opacity:0.5;background:linear-gradient(15deg, #000, #1a1a1a) !important;border-left-color:#666 !important;}
.modifier-item.cancelled .modifier-name,.modifier-item.cancelled .modifier-caster,.modifier-item.cancelled .modifier-targets,.modifier-item.cancelled .modifier-duration{color:#666 !important;text-decoration:line-through;}
.modifier-item.cancelled .modifier-icon{filter:grayscale(100%) brightness(0.5);}
.cancelled-indicator{color:#ff0055;font-style:italic;font-size:0.8em;margin-top:3px;text-align:center;background-color:rgba(255, 0, 85, 0.1);padding:2px 5px;border-radius:2px;}
.modifier-item{display:flex;align-items:center;gap:0.5em;flex-wrap:nowrap;word-wrap:break-word;overflow-wrap:break-word;transition:all 0.3s ease;}
.team::-webkit-scrollbar,.modifiers-container::-webkit-scrollbar,#action-log::-webkit-scrollbar,.info-display::-webkit-scrollbar{width:6px;}
.team::-webkit-scrollbar-track,.modifiers-container::-webkit-scrollbar-track,#action-log::-webkit-scrollbar-track,.info-display::-webkit-scrollbar-track{background:#0a0a0a;}
.team::-webkit-scrollbar-thumb,.modifiers-container::-webkit-scrollbar-thumb,#action-log::-webkit-scrollbar-thumb,.info-display::-webkit-scrollbar-thumb{background:#00ff88;border-radius:0;}
.team::-webkit-scrollbar-thumb:hover,.modifiers-container::-webkit-scrollbar-thumb:hover,#action-log::-webkit-scrollbar-thumb:hover,.info-display::-webkit-scrollbar-thumb:hover{background:#00cc66;}
.team,.modifiers-container,#action-log,.info-display{scrollbar-width:thin;scrollbar-color:#00ff88 #0a0a0a;}
.unit.stunned{border-color:#40f9ff !important;box-shadow:0 0 8px rgba(64, 179, 255, 0.5);}
.unit.stunned .unit-name{color:#40f9ff !important;}
.stun-indicator{position:absolute;top:5px;right:5px;color:#40f9ff;font-size:12px;font-weight:bold;text-shadow:0 0 5px rgba(64, 249, 25, 0.7);animation:pulse 1s infinite;background-color:rgba(255, 215, 64, 0.1);padding:2px 5px;border-radius:2px;}
.unit.stunned.current-turn .stun-indicator{left:5px;top:5px;}
.unit.stunned.current-turn .turn-indicator{right:5px;top:5px;}
@media (max-width:900px){
    .game-layout{flex-direction:column}
    .info-display{flex-direction:column}
    .left-column{max-width:100%;order:1}
    .right-column{order:2}
    #action-log{height:150px;}
    #battle-container{margin-bottom:20px}
    .team{max-height:400px;}
}
@keyframes fadeIn{
    from{opacity:0;transform:translateY(-20px)}
    to{opacity:1;transform:translateY(0)}
}
@keyframes pulse {
    0% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.7; transform: scale(1.05); }
    100% { opacity: 1; transform: scale(1); }
}
/*.defeat-entry{color:#c0392b;font-weight:bold;}
.success-entry{color:#27ae60;font-weight:bold;}*/